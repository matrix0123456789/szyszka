(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{123:function(e,t,i){"use strict";i.r(t),i.d(t,"PsdFile",(function(){return o}));var a=i(34),n=i.n(a);class h{constructor(e){this._node=e,this.name=e.name,this._imageLoaded=!1,this._image=null}get rect(){return{left:this._node.left,top:this._node.top,width:this._node.width,height:this._node.height}}get children(){return this._children||(this._children=this._node.children().map(e=>new h(e))),this._children}get image(){if(!this._imageLoaded&&(this._imageLoaded=!0,this._node.layer&&this._node.layer.image))try{var e=this._node.layer.image.pixelData,t=new ImageData(this.rect.width,this.rect.height);if(e.length===t.data.length)for(let i=0;i<e.length;i++)t.data[i]=e[i];this._image=t}catch(e){console.error(e)}return this._image}get canDownloadImage(){return Boolean(this._image)}async downloadImage(){let e=document.createElement("canvas");e.width=this.image.width,e.height=this.image.height,e.getContext("2d").putImageData(this.image,0,0);let t=new Promise(t=>e.toBlob(t));document.create("a",{href:URL.createObjectURL(await t),download:this.name+".png"}).click()}}class o{constructor(e){this.size={width:e.header.width,height:e.header.height},this.tree=new h(e.tree()),console.log(this.tree)}static async fromFile(e){const t=n.a.fromDroppedFile(e);return new o(await t)}}},38:function(e,t){},62:function(e,t){},63:function(e,t){}}]);